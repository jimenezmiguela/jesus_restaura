// ============================================
// Application Stylesheet (ENTRY POINT)
// Rails 7 + Dart Sass
// ============================================

// Design system (MUST be first)
@use "design/tokens";
@use "design/themes";

// Base styles
@use "base/typography";
@use "base/layout";

// Components
@use "components/buttons";
@use "components/forms";
@use "components/cards";
@use "components/tables";
@use "components/alerts";
@use "components/navigation";

// ============================================
// CSS Variables (Light default)
// ============================================

:root {
    --color-bg: #{tokens.$color-body-background};
    --color-text: #{tokens.$color-text};
    --color-link: #{tokens.$color-link};
    --color-highlight-blue: #{tokens.$color-highlight-blue};

    --brand-primary: #{tokens.$color-navbar-footer-bg};
    --brand-primary-text: #{tokens.$color-navbar-footer-text};

    --btn-primary-bg: #{tokens.$color-btn-primary-bg};
    --btn-primary-hover-bg: #{tokens.$color-btn-primary-hover-bg};
    --btn-primary-text: #{tokens.$color-btn-primary-text};

    --card-bg: #{tokens.$color-card-bg};
    --card-text: #{tokens.$color-card-text};

    --alert-bg: #{tokens.$color-alert-bg};
    --alert-text: #{tokens.$color-alert-text};

    --table-row-alt: #{tokens.$color-table-row-alt};
    --table-border: #{tokens.$color-table-border};

    --form-border: #{tokens.$color-form-border};
}

// ============================================
// Global Styles
// ============================================

body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-base);
}

a {
    color: var(--color-link);
}

.highlight-blue {
    color: var(--color-highlight-blue);
    font-weight: 600;
}

// ============================================
// Dark Mode (CURRENT PAGE ONLY)
// ============================================

html:has(#theme-toggle:checked) body {
    background-color: #1e1e1e;
    color: #f0f0f0;
}

html:has(#theme-toggle:checked) .card {
    background-color: #2a2a2a;
    color: #f0f0f0;
}

html:has(#theme-toggle:checked) .card-header {
    background-color: var(--brand-primary);
    color: #ffffff;
}

html:has(#theme-toggle:checked) .alert {
    background-color: #4a1f25;
    color: #f8d7da;
}

html:has(#theme-toggle:checked) .table {
    border-color: #444;
}

html:has(#theme-toggle:checked) .table-striped tbody tr:nth-of-type(odd) {
    background-color: #2a2a2a;
}

html:has(#theme-toggle:checked) .form-control {
    background-color: #1e1e1e;
    color: #f0f0f0;
    border-color: #555;
}

// ============================================
// Bootstrap Overrides
// ============================================

.btn-primary {
    background-color: var(--btn-primary-bg) !important;
    border-color: var(--btn-primary-bg) !important;
    color: var(--btn-primary-text) !important;
}

.btn-primary:hover,
.btn-primary:focus {
    background-color: var(--btn-primary-hover-bg) !important;
    border-color: var(--btn-primary-hover-bg) !important;
}

// ============================================
// Navbar & Footer
// ============================================

.navbar {
    background-color: var(--brand-primary);
    color: var(--brand-primary-text);
}

.navbar a {
    color: var(--brand-primary-text);
}

// ============================================
// Theme Toggle Styling
// labelÂ vfr rf x  v
.theme-toggle {
    cursor: pointer;
    user-select: none;

    input {
        display: none;
    }

    span {
        font-size: 1.2rem;
        line-height: 1;
    }
}
