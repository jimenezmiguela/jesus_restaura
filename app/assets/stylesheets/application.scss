// ============================================
// Application Stylesheet (ENTRY POINT)
// Rails 7 + Dart Sass
// ============================================

// Design system (first)
@use "design/tokens";
@use "design/themes";

// Base styles
@use "base/typography";
@use "base/layout";

// Components
@use "components/buttons";
@use "components/forms";
@use "components/cards";
@use "components/tables";
@use "components/alerts";
@use "components/navigation";

// ============================================
// CSS Variables (Light default)
// ============================================

:root,
html[data-theme="light"] {
    --color-bg: #{tokens.$color-body-background};
    --color-text: #{tokens.$color-text};
    --color-link: #{tokens.$color-link};
    --color-highlight-blue: #{tokens.$color-highlight-blue};

    --brand-primary: #{tokens.$color-navbar-footer-bg};
    --brand-primary-text: #{tokens.$color-navbar-footer-text};

    --btn-primary-bg: #{tokens.$color-btn-primary-bg};
    --btn-primary-hover-bg: #{tokens.$color-btn-primary-hover-bg};
    --btn-primary-text: #{tokens.$color-btn-primary-text};

    --card-bg: #{tokens.$color-card-bg};
    --card-text: #{tokens.$color-card-text};

    --alert-bg: #{tokens.$color-alert-bg};
    --alert-text: #{tokens.$color-alert-text};

    --table-row-alt: #{tokens.$color-table-row-alt};
    --table-border: #{tokens.$color-table-border};

    --form-border: #{tokens.$color-form-border};
}

// ============================================
// Dark Mode Variables
// ============================================

html[data-theme="dark"] {
    --color-bg: #1e1e1e;
    --color-text: #f0f0f0;

    --card-bg: #2a2a2a;
    --card-text: #f0f0f0;

    --alert-bg: #4a1f25;
    --alert-text: #f8d7da;

    --table-row-alt: #2a2a2a;
    --table-border: #444;

    --form-border: #555;
}

// ============================================
// Global Styles
// ============================================

body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-base);
}

a {
    color: var(--color-link);
}

.highlight-blue {
    color: var(--color-highlight-blue);
    font-weight: 600;
}

// ============================================
// Bootstrap Overrides
// ============================================

.btn-primary {
    background-color: var(--btn-primary-bg) !important;
    border-color: var(--btn-primary-bg) !important;
    color: var(--btn-primary-text) !important;
}

.btn-primary:hover,
.btn-primary:focus {
    background-color: var(--btn-primary-hover-bg) !important;
    border-color: var(--btn-primary-hover-bg) !important;
}

// ============================================
// Navbar
// ============================================

.navbar {
    background-color: var(--brand-primary);
    color: var(--brand-primary-text);
}

.navbar a {
    color: var(--brand-primary-text);
}

// ============================================
// Theme Toggle Styling
// ============================================

.theme-toggle {
    cursor: pointer;
    user-select: none;

    input {
        display: none;
    }

    span {
        font-size: 1.2rem;
        line-height: 1;
    }
}
